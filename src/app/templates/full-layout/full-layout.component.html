<div
  class="example-container flexbox-parent"
  [class.example-is-mobile]="mobileQuery.matches"
>
  <mat-toolbar color="primary">
    <button mat-icon-button (click)="snav.toggle()" class="sidebar-toggle-btn">
      <mat-icon>menu</mat-icon>
    </button>

    <i class="material-icons mat-brand-style">
      settings_input_antenna
    </i>

    <h1 class="example-app-name"> Site Transfert [ D9 ].</h1>

    <div _ngcontent-jvx-c494="" class="flex-spacer"></div>

    <div style="position: absolute;right: 15px;">
      <button
        mat-icon-button
        class="sidebar-profile-btn"
        [matMenuTriggerFor]="langMenu"
      >
        <i class="material-icons" style="font-size: 20px">
          language
        </i>
        {{ defaultLang }}
        <clr-icon shape="caret" style="transform: rotate(180deg);"></clr-icon>
      </button>

      <mat-menu #langMenu="matMenu">
        <button mat-menu-item type="button" (click)="switchToFrensh()">
          Fran√ßais
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item type="button" (click)="switchToEnglish()">
          English
        </button>
      </mat-menu>

      <button
        mat-icon-button
        class="sidebar-profile-btn"
        [matMenuTriggerFor]="menu"
      >
        {{fullName}}
        <mat-icon class="material-icons">portrait</mat-icon>
        <clr-icon shape="caret" style="transform: rotate(180deg);"></clr-icon>
      </button>

      <mat-menu #menu="matMenu">
        <button mat-menu-item style="cursor: pointer !important;">
          {{fullName}}
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item
                type="button"
                (click)="goToProfile('/apps/admin/users/profile')">
          Mon Profil
        </button>
      </mat-menu>
      <button mat-icon-button
              class="sidebar-logout-btn"
              type="button"
              (click)="onLogout()">
        <i class="material-icons">
          power_settings_new
        </i>
      </button>
    </div>
  </mat-toolbar>

  <mat-sidenav-container
    class="layout-sidenav-container flexbox-item fill-area content flexbox-item-grow"
    [style.marginTop.px]="mobileQuery.matches ? 50 : 0"
    isOpen="true"
  >
    <mat-sidenav
      #snav
      [mode]="mobileQuery.matches ? 'over' : 'side'"
      [fixedInViewport]="mobileQuery.matches"
      fixedTopGap="50"
      opened="mobileQuery ? 'false' : 'true'"
      style="height: 100%;"
    >
      <app-left-menu></app-left-menu>
    </mat-sidenav>

    <mat-sidenav-content>
      <mat-toolbar>
        <mat-toolbar-row>
          <button mat-button class="btn-menu"
                  type="button" (click)="navigate('apps/home')">Home
          </button>
          <button mat-button class="btn-menu" type="button"
                  routerLinkActive="active"
                  (click)="navigate('apps/sites-apps/audit')">
            {{ 'MENU.SITE_AUDIT' | translate }}
          </button>
          <button mat-button class="btn-menu" type="button" (click)="navigate('apps/sites-apps/sites')"
                  routerLinkActive="active-link">
            {{ 'MENU.SITE' | translate }}
          </button>
          <button mat-button class="btn-menu" type="button" (click)="navigate('apps/sites-apps/typeAudit')">
            {{ 'MENU.TYPE_AUDIT' | translate }}
          </button>
          <button mat-button class="btn-menu" [matMenuTriggerFor]="catMenu"
                  *ngIf="jwtTokenService.isAdmin()">
            {{ 'MENU.CATEGORIES' | translate }}
            <clr-icon shape="caret" style="transform: rotate(180deg);"></clr-icon>
          </button>
          <mat-menu #catMenu="matMenu">
            <button mat-menu-item type="button"
                    (click)="navigate('apps/referencial/categories')">
              {{ 'MENU.CATEGORIES' | translate }}
            </button>
            <button mat-menu-item type="button" (click)="navigate('apps/referencial/sub-categories')">
              {{ 'MENU.SUB_CATEGORIES' | translate }}
            </button>
          </mat-menu>

          <button
            mat-button
            class="btn-menu"
            *ngIf="jwtTokenService.isAdmin()"
            [matMenuTriggerFor]="lvMenu">
            {{ 'MENU.DECISION' | translate }}
            <clr-icon shape="caret" style="transform: rotate(180deg);"></clr-icon>
          </button>
          <mat-menu #lvMenu="matMenu">
            <button mat-menu-item type="button" (click)="navigate('apps/referencial/decisionTypes')">
              {{ 'MENU.DECISION_TYPE' | translate }}
            </button>
            <button mat-menu-item type="button" (click)="navigate('apps/referencial/decisions')">
              {{ 'MENU.DECISION' | translate }}
            </button>
          </mat-menu>

          <button mat-button
                  class="btn-menu" type="button"
                  *ngIf="jwtTokenService.isAdmin()"
                  (click)="navigate('apps/referencial/status')">
            {{ 'MENU.STATUS' | translate }}
          </button>
          <span class="example-spacer"></span>
          <button mat-button
                  style="margin-right: 80px"
                  class="btn-menu" type="button"
                  (click)="navigate('/apps/admin/affectations/my-programme')"
                  *ngIf="jwtTokenService.isSiteEngineer() || jwtTokenService.isOMEngineer()">
            <span [matBadge]="myCount | async" matBadgeOverlap="false" matBadgeColor="warn">
              <clr-icon shape="calendar" size="23"></clr-icon>
            </span>
          </button>


        </mat-toolbar-row>
      </mat-toolbar>
      <router-outlet></router-outlet>
      <app-footer></app-footer>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
